{"ast":null,"code":"/* =========================================================\n * bootstrap-datepicker.js\n * http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Copyright 2012 Stefan Petre\n * Improvements by Andrew Rowls\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n!function ($) {\n  function UTCDate() {\n    return new Date(Date.UTC.apply(Date, arguments));\n  }\n\n  function UTCToday() {\n    var today = new Date();\n    return UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());\n  } // Picker object\n\n\n  var Datepicker = function (element, options) {\n    var that = this;\n    this.element = $(element);\n    this.language = options.language || this.element.data('date-language') || \"en\";\n    this.language = this.language in dates ? this.language : \"en\";\n    this.isRTL = dates[this.language].rtl || false;\n    this.format = DPGlobal.parseFormat(options.format || this.element.data('date-format') || 'mm/dd/yyyy');\n    this.isInline = false;\n    this.isInput = this.element.is('input');\n    this.component = this.element.is('.date') ? this.element.find('.add-on') : false;\n    this.hasInput = this.component && this.element.find('input').length;\n    if (this.component && this.component.length === 0) this.component = false;\n\n    this._attachEvents();\n\n    this.forceParse = true;\n\n    if ('forceParse' in options) {\n      this.forceParse = options.forceParse;\n    } else if ('dateForceParse' in this.element.data()) {\n      this.forceParse = this.element.data('date-force-parse');\n    }\n\n    this.picker = $(DPGlobal.template).appendTo(this.isInline ? this.element : 'body').on({\n      click: $.proxy(this.click, this),\n      mousedown: $.proxy(this.mousedown, this)\n    });\n\n    if (this.isInline) {\n      this.picker.addClass('datepicker-inline');\n    } else {\n      this.picker.addClass('datepicker-dropdown dropdown-menu');\n    }\n\n    if (this.isRTL) {\n      this.picker.addClass('datepicker-rtl');\n      this.picker.find('.prev i, .next i').toggleClass('icon-arrow-left icon-arrow-right');\n    }\n\n    $(document).on('mousedown', function (e) {\n      // Clicked outside the datepicker, hide it\n      if ($(e.target).closest('.datepicker').length === 0) {\n        that.hide();\n      }\n    });\n    this.autoclose = false;\n\n    if ('autoclose' in options) {\n      this.autoclose = options.autoclose;\n    } else if ('dateAutoclose' in this.element.data()) {\n      this.autoclose = this.element.data('date-autoclose');\n    }\n\n    this.keyboardNavigation = true;\n\n    if ('keyboardNavigation' in options) {\n      this.keyboardNavigation = options.keyboardNavigation;\n    } else if ('dateKeyboardNavigation' in this.element.data()) {\n      this.keyboardNavigation = this.element.data('date-keyboard-navigation');\n    }\n\n    this.viewMode = this.startViewMode = 0;\n\n    switch (options.startView || this.element.data('date-start-view')) {\n      case 2:\n      case 'decade':\n        this.viewMode = this.startViewMode = 2;\n        break;\n\n      case 1:\n      case 'year':\n        this.viewMode = this.startViewMode = 1;\n        break;\n    }\n\n    this.todayBtn = options.todayBtn || this.element.data('date-today-btn') || false;\n    this.todayHighlight = options.todayHighlight || this.element.data('date-today-highlight') || false;\n    this.weekStart = (options.weekStart || this.element.data('date-weekstart') || dates[this.language].weekStart || 0) % 7;\n    this.weekEnd = (this.weekStart + 6) % 7;\n    this.startDate = -Infinity;\n    this.endDate = Infinity;\n    this.daysOfWeekDisabled = [];\n    this.setStartDate(options.startDate || this.element.data('date-startdate'));\n    this.setEndDate(options.endDate || this.element.data('date-enddate'));\n    this.setDaysOfWeekDisabled(options.daysOfWeekDisabled || this.element.data('date-days-of-week-disabled'));\n    this.fillDow();\n    this.fillMonths();\n    this.update();\n    this.showMode();\n\n    if (this.isInline) {\n      this.show();\n    }\n  };\n\n  Datepicker.prototype = {\n    constructor: Datepicker,\n    _events: [],\n    _attachEvents: function () {\n      this._detachEvents();\n\n      if (this.isInput) {\n        // single input\n        this._events = [[this.element, {\n          focus: $.proxy(this.show, this),\n          keyup: $.proxy(this.update, this),\n          keydown: $.proxy(this.keydown, this)\n        }]];\n      } else if (this.component && this.hasInput) {\n        // component: input + button\n        this._events = [// For components that are not readonly, allow keyboard nav\n        [this.element.find('input'), {\n          focus: $.proxy(this.show, this),\n          keyup: $.proxy(this.update, this),\n          keydown: $.proxy(this.keydown, this)\n        }], [this.component, {\n          click: $.proxy(this.show, this)\n        }]];\n      } else if (this.element.is('div')) {\n        // inline datepicker\n        this.isInline = true;\n      } else {\n        this._events = [[this.element, {\n          click: $.proxy(this.show, this)\n        }]];\n      }\n\n      for (var i = 0, el, ev; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.on(ev);\n      }\n    },\n    _detachEvents: function () {\n      for (var i = 0, el, ev; i < this._events.length; i++) {\n        el = this._events[i][0];\n        ev = this._events[i][1];\n        el.off(ev);\n      }\n\n      this._events = [];\n    },\n    show: function (e) {\n      this.picker.show();\n      this.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n      this.update();\n      this.place();\n      $(window).on('resize', $.proxy(this.place, this));\n\n      if (e) {\n        e.stopPropagation();\n        e.preventDefault();\n      }\n\n      this.element.trigger({\n        type: 'show',\n        date: this.date\n      });\n    },\n    hide: function (e) {\n      if (this.isInline) return;\n      this.picker.hide();\n      $(window).off('resize', this.place);\n      this.viewMode = this.startViewMode;\n      this.showMode();\n\n      if (!this.isInput) {\n        $(document).off('mousedown', this.hide);\n      }\n\n      if (this.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find('input').val())) this.setValue();\n      this.element.trigger({\n        type: 'hide',\n        date: this.date\n      });\n    },\n    remove: function () {\n      this._detachEvents();\n\n      this.picker.remove();\n      delete this.element.data().datepicker;\n    },\n    getDate: function () {\n      var d = this.getUTCDate();\n      return new Date(d.getTime() + d.getTimezoneOffset() * 60000);\n    },\n    getUTCDate: function () {\n      return this.date;\n    },\n    setDate: function (d) {\n      this.setUTCDate(new Date(d.getTime() - d.getTimezoneOffset() * 60000));\n    },\n    setUTCDate: function (d) {\n      this.date = d;\n      this.setValue();\n    },\n    setValue: function () {\n      var formatted = this.getFormattedDate();\n\n      if (!this.isInput) {\n        if (this.component) {\n          this.element.find('input').val(formatted);\n        }\n\n        this.element.data('date', formatted);\n      } else {\n        this.element.val(formatted);\n      }\n    },\n    getFormattedDate: function (format) {\n      if (format === undefined) format = this.format;\n      return DPGlobal.formatDate(this.date, format, this.language);\n    },\n    setStartDate: function (startDate) {\n      this.startDate = startDate || -Infinity;\n\n      if (this.startDate !== -Infinity) {\n        this.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language);\n      }\n\n      this.update();\n      this.updateNavArrows();\n    },\n    setEndDate: function (endDate) {\n      this.endDate = endDate || Infinity;\n\n      if (this.endDate !== Infinity) {\n        this.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language);\n      }\n\n      this.update();\n      this.updateNavArrows();\n    },\n    setDaysOfWeekDisabled: function (daysOfWeekDisabled) {\n      this.daysOfWeekDisabled = daysOfWeekDisabled || [];\n\n      if (!$.isArray(this.daysOfWeekDisabled)) {\n        this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n      }\n\n      this.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\n        return parseInt(d, 10);\n      });\n      this.update();\n      this.updateNavArrows();\n    },\n    place: function () {\n      if (this.isInline) return;\n      var zIndex = parseInt(this.element.parents().filter(function () {\n        return $(this).css('z-index') != 'auto';\n      }).first().css('z-index')) + 10;\n      var offset = this.component ? this.component.offset() : this.element.offset();\n      var height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(true);\n      this.picker.css({\n        top: offset.top + height,\n        left: offset.left,\n        zIndex: zIndex\n      });\n    },\n    update: function () {\n      var date,\n          fromArgs = false;\n\n      if (arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\n        date = arguments[0];\n        fromArgs = true;\n      } else {\n        date = this.isInput ? this.element.val() : this.element.data('date') || this.element.find('input').val();\n      }\n\n      this.date = DPGlobal.parseDate(date, this.format, this.language);\n      if (fromArgs) this.setValue();\n      var oldViewDate = this.viewDate;\n\n      if (this.date < this.startDate) {\n        this.viewDate = new Date(this.startDate);\n      } else if (this.date > this.endDate) {\n        this.viewDate = new Date(this.endDate);\n      } else {\n        this.viewDate = new Date(this.date);\n      }\n\n      if (oldViewDate && oldViewDate.getTime() != this.viewDate.getTime()) {\n        this.element.trigger({\n          type: 'changeDate',\n          date: this.viewDate\n        });\n      }\n\n      this.fill();\n    },\n    fillDow: function () {\n      var dowCnt = this.weekStart,\n          html = '<tr>';\n\n      while (dowCnt < this.weekStart + 7) {\n        html += '<th class=\"dow\">' + dates[this.language].daysMin[dowCnt++ % 7] + '</th>';\n      }\n\n      html += '</tr>';\n      this.picker.find('.datepicker-days thead').append(html);\n    },\n    fillMonths: function () {\n      var html = '',\n          i = 0;\n\n      while (i < 12) {\n        html += '<span class=\"month\">' + dates[this.language].monthsShort[i++] + '</span>';\n      }\n\n      this.picker.find('.datepicker-months td').html(html);\n    },\n    fill: function () {\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth(),\n          startYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n          startMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() : -Infinity,\n          endYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n          endMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() : Infinity,\n          currentDate = this.date && this.date.valueOf(),\n          today = new Date();\n      this.picker.find('.datepicker-days thead th:eq(1)').text(dates[this.language].months[month] + ' ' + year);\n      this.picker.find('tfoot th.today').text(dates[this.language].today).toggle(this.todayBtn !== false);\n      this.updateNavArrows();\n      this.fillMonths();\n      var prevMonth = UTCDate(year, month - 1, 28, 0, 0, 0, 0),\n          day = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n      prevMonth.setUTCDate(day);\n      prevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7) % 7);\n      var nextMonth = new Date(prevMonth);\n      nextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n      nextMonth = nextMonth.valueOf();\n      var html = [];\n      var clsName;\n\n      while (prevMonth.valueOf() < nextMonth) {\n        if (prevMonth.getUTCDay() == this.weekStart) {\n          html.push('<tr>');\n        }\n\n        clsName = '';\n\n        if (prevMonth.getUTCFullYear() < year || prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month) {\n          clsName += ' old';\n        } else if (prevMonth.getUTCFullYear() > year || prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month) {\n          clsName += ' new';\n        } // Compare internal UTC date with local today, not UTC today\n\n\n        if (this.todayHighlight && prevMonth.getUTCFullYear() == today.getFullYear() && prevMonth.getUTCMonth() == today.getMonth() && prevMonth.getUTCDate() == today.getDate()) {\n          clsName += ' today';\n        }\n\n        if (currentDate && prevMonth.valueOf() == currentDate) {\n          clsName += ' active';\n        }\n\n        if (prevMonth.valueOf() < this.startDate || prevMonth.valueOf() > this.endDate || $.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1) {\n          clsName += ' disabled';\n        }\n\n        html.push('<td class=\"day' + clsName + '\">' + prevMonth.getUTCDate() + '</td>');\n\n        if (prevMonth.getUTCDay() == this.weekEnd) {\n          html.push('</tr>');\n        }\n\n        prevMonth.setUTCDate(prevMonth.getUTCDate() + 1);\n      }\n\n      this.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n      var currentYear = this.date && this.date.getUTCFullYear();\n      var months = this.picker.find('.datepicker-months').find('th:eq(1)').text(year).end().find('span').removeClass('active');\n\n      if (currentYear && currentYear == year) {\n        months.eq(this.date.getUTCMonth()).addClass('active');\n      }\n\n      if (year < startYear || year > endYear) {\n        months.addClass('disabled');\n      }\n\n      if (year == startYear) {\n        months.slice(0, startMonth).addClass('disabled');\n      }\n\n      if (year == endYear) {\n        months.slice(endMonth + 1).addClass('disabled');\n      }\n\n      html = '';\n      year = parseInt(year / 10, 10) * 10;\n      var yearCont = this.picker.find('.datepicker-years').find('th:eq(1)').text(year + '-' + (year + 9)).end().find('td');\n      year -= 1;\n\n      for (var i = -1; i < 11; i++) {\n        html += '<span class=\"year' + (i == -1 || i == 10 ? ' old' : '') + (currentYear == year ? ' active' : '') + (year < startYear || year > endYear ? ' disabled' : '') + '\">' + year + '</span>';\n        year += 1;\n      }\n\n      yearCont.html(html);\n    },\n    updateNavArrows: function () {\n      var d = new Date(this.viewDate),\n          year = d.getUTCFullYear(),\n          month = d.getUTCMonth();\n\n      switch (this.viewMode) {\n        case 0:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n\n        case 1:\n        case 2:\n          if (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n            this.picker.find('.prev').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.prev').css({\n              visibility: 'visible'\n            });\n          }\n\n          if (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n            this.picker.find('.next').css({\n              visibility: 'hidden'\n            });\n          } else {\n            this.picker.find('.next').css({\n              visibility: 'visible'\n            });\n          }\n\n          break;\n      }\n    },\n    click: function (e) {\n      e.stopPropagation();\n      e.preventDefault();\n      var target = $(e.target).closest('span, td, th');\n\n      if (target.length == 1) {\n        switch (target[0].nodeName.toLowerCase()) {\n          case 'th':\n            switch (target[0].className) {\n              case 'switch':\n                this.showMode(1);\n                break;\n\n              case 'prev':\n              case 'next':\n                var dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == 'prev' ? -1 : 1);\n\n                switch (this.viewMode) {\n                  case 0:\n                    this.viewDate = this.moveMonth(this.viewDate, dir);\n                    break;\n\n                  case 1:\n                  case 2:\n                    this.viewDate = this.moveYear(this.viewDate, dir);\n                    break;\n                }\n\n                this.fill();\n                break;\n\n              case 'today':\n                var date = new Date();\n                date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n                this.showMode(-2);\n                var which = this.todayBtn == 'linked' ? null : 'view';\n\n                this._setDate(date, which);\n\n                break;\n            }\n\n            break;\n\n          case 'span':\n            if (!target.is('.disabled')) {\n              this.viewDate.setUTCDate(1);\n\n              if (target.is('.month')) {\n                var month = target.parent().find('span').index(target);\n                this.viewDate.setUTCMonth(month);\n                this.element.trigger({\n                  type: 'changeMonth',\n                  date: this.viewDate\n                });\n              } else {\n                var year = parseInt(target.text(), 10) || 0;\n                this.viewDate.setUTCFullYear(year);\n                this.element.trigger({\n                  type: 'changeYear',\n                  date: this.viewDate\n                });\n              }\n\n              this.showMode(-1);\n              this.fill();\n            }\n\n            break;\n\n          case 'td':\n            if (target.is('.day') && !target.is('.disabled')) {\n              var day = parseInt(target.text(), 10) || 1;\n              var year = this.viewDate.getUTCFullYear(),\n                  month = this.viewDate.getUTCMonth();\n\n              if (target.is('.old')) {\n                if (month === 0) {\n                  month = 11;\n                  year -= 1;\n                } else {\n                  month -= 1;\n                }\n              } else if (target.is('.new')) {\n                if (month == 11) {\n                  month = 0;\n                  year += 1;\n                } else {\n                  month += 1;\n                }\n              }\n\n              this._setDate(UTCDate(year, month, day, 0, 0, 0, 0));\n            }\n\n            break;\n        }\n      }\n    },\n    _setDate: function (date, which) {\n      if (!which || which == 'date') this.date = date;\n      if (!which || which == 'view') this.viewDate = date;\n      this.fill();\n      this.setValue();\n      this.element.trigger({\n        type: 'changeDate',\n        date: this.date\n      });\n      var element;\n\n      if (this.isInput) {\n        element = this.element;\n      } else if (this.component) {\n        element = this.element.find('input');\n      }\n\n      if (element) {\n        element.change();\n\n        if (this.autoclose && (!which || which == 'date')) {\n          this.hide();\n        }\n      }\n    },\n    moveMonth: function (date, dir) {\n      if (!dir) return date;\n      var new_date = new Date(date.valueOf()),\n          day = new_date.getUTCDate(),\n          month = new_date.getUTCMonth(),\n          mag = Math.abs(dir),\n          new_month,\n          test;\n      dir = dir > 0 ? 1 : -1;\n\n      if (mag == 1) {\n        test = dir == -1 // If going back one month, make sure month is not current month\n        // (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n        ? function () {\n          return new_date.getUTCMonth() == month;\n        } // If going forward one month, make sure month is as expected\n        // (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n        : function () {\n          return new_date.getUTCMonth() != new_month;\n        };\n        new_month = month + dir;\n        new_date.setUTCMonth(new_month); // Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n\n        if (new_month < 0 || new_month > 11) new_month = (new_month + 12) % 12;\n      } else {\n        // For magnitudes >1, move one month at a time...\n        for (var i = 0; i < mag; i++) // ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n        new_date = this.moveMonth(new_date, dir); // ...then reset the day, keeping it in the new month\n\n\n        new_month = new_date.getUTCMonth();\n        new_date.setUTCDate(day);\n\n        test = function () {\n          return new_month != new_date.getUTCMonth();\n        };\n      } // Common date-resetting loop -- if date is beyond end of month, make it\n      // end of month\n\n\n      while (test()) {\n        new_date.setUTCDate(--day);\n        new_date.setUTCMonth(new_month);\n      }\n\n      return new_date;\n    },\n    moveYear: function (date, dir) {\n      return this.moveMonth(date, dir * 12);\n    },\n    dateWithinRange: function (date) {\n      return date >= this.startDate && date <= this.endDate;\n    },\n    keydown: function (e) {\n      if (this.picker.is(':not(:visible)')) {\n        if (e.keyCode == 27) // allow escape to hide and re-show picker\n          this.show();\n        return;\n      }\n\n      var dateChanged = false,\n          dir,\n          day,\n          month,\n          newDate,\n          newViewDate;\n\n      switch (e.keyCode) {\n        case 27:\n          // escape\n          this.hide();\n          e.preventDefault();\n          break;\n\n        case 37: // left\n\n        case 39:\n          // right\n          if (!this.keyboardNavigation) break;\n          dir = e.keyCode == 37 ? -1 : 1;\n\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else {\n            newDate = new Date(this.date);\n            newDate.setUTCDate(this.date.getUTCDate() + dir);\n            newViewDate = new Date(this.viewDate);\n            newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir);\n          }\n\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n\n          break;\n\n        case 38: // up\n\n        case 40:\n          // down\n          if (!this.keyboardNavigation) break;\n          dir = e.keyCode == 38 ? -1 : 1;\n\n          if (e.ctrlKey) {\n            newDate = this.moveYear(this.date, dir);\n            newViewDate = this.moveYear(this.viewDate, dir);\n          } else if (e.shiftKey) {\n            newDate = this.moveMonth(this.date, dir);\n            newViewDate = this.moveMonth(this.viewDate, dir);\n          } else {\n            newDate = new Date(this.date);\n            newDate.setUTCDate(this.date.getUTCDate() + dir * 7);\n            newViewDate = new Date(this.viewDate);\n            newViewDate.setUTCDate(this.viewDate.getUTCDate() + dir * 7);\n          }\n\n          if (this.dateWithinRange(newDate)) {\n            this.date = newDate;\n            this.viewDate = newViewDate;\n            this.setValue();\n            this.update();\n            e.preventDefault();\n            dateChanged = true;\n          }\n\n          break;\n\n        case 13:\n          // enter\n          this.hide();\n          e.preventDefault();\n          break;\n\n        case 9:\n          // tab\n          this.hide();\n          break;\n      }\n\n      if (dateChanged) {\n        this.element.trigger({\n          type: 'changeDate',\n          date: this.date\n        });\n        var element;\n\n        if (this.isInput) {\n          element = this.element;\n        } else if (this.component) {\n          element = this.element.find('input');\n        }\n\n        if (element) {\n          element.change();\n        }\n      }\n    },\n    showMode: function (dir) {\n      if (dir) {\n        this.viewMode = Math.max(0, Math.min(2, this.viewMode + dir));\n      }\n      /*\n      \tvitalets: fixing bug of very special conditions:\n      \tjquery 1.7.1 + webkit + show inline datepicker in bootstrap popover.\n      \tMethod show() does not set display css correctly and datepicker is not shown.\n      \tChanged to .css('display', 'block') solve the problem.\n      \tSee https://github.com/vitalets/x-editable/issues/37\n      \t\tIn jquery 1.7.2+ everything works fine.\n      */\n      //this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n\n\n      this.picker.find('>div').hide().filter('.datepicker-' + DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n      this.updateNavArrows();\n    }\n  };\n\n  $.fn.datepicker = function (option) {\n    var args = Array.apply(null, arguments);\n    args.shift();\n    return this.each(function () {\n      var $this = $(this),\n          data = $this.data('datepicker'),\n          options = typeof option == 'object' && option;\n\n      if (!data) {\n        $this.data('datepicker', data = new Datepicker(this, $.extend({}, $.fn.datepicker.defaults, options)));\n      }\n\n      if (typeof option == 'string' && typeof data[option] == 'function') {\n        data[option].apply(data, args);\n      }\n    });\n  };\n\n  $.fn.datepicker.defaults = {};\n  $.fn.datepicker.Constructor = Datepicker;\n  var dates = $.fn.datepicker.dates = {\n    en: {\n      days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n      daysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n      daysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n      months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n      monthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      today: \"Today\"\n    }\n  };\n  var DPGlobal = {\n    modes: [{\n      clsName: 'days',\n      navFnc: 'Month',\n      navStep: 1\n    }, {\n      clsName: 'months',\n      navFnc: 'FullYear',\n      navStep: 1\n    }, {\n      clsName: 'years',\n      navFnc: 'FullYear',\n      navStep: 10\n    }],\n    isLeapYear: function (year) {\n      return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n    },\n    getDaysInMonth: function (year, month) {\n      return [31, DPGlobal.isLeapYear(year) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n    },\n    validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n    nonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n    parseFormat: function (format) {\n      // IE treats \\0 as a string end in inputs (truncating the value),\n      // so it's a bad format delimiter, anyway\n      var separators = format.replace(this.validParts, '\\0').split('\\0'),\n          parts = format.match(this.validParts);\n\n      if (!separators || !separators.length || !parts || parts.length === 0) {\n        throw new Error(\"Invalid date format.\");\n      }\n\n      return {\n        separators: separators,\n        parts: parts\n      };\n    },\n    parseDate: function (date, format, language) {\n      if (date instanceof Date) return date;\n\n      if (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)) {\n        var part_re = /([\\-+]\\d+)([dmwy])/,\n            parts = date.match(/([\\-+]\\d+)([dmwy])/g),\n            part,\n            dir;\n        date = new Date();\n\n        for (var i = 0; i < parts.length; i++) {\n          part = part_re.exec(parts[i]);\n          dir = parseInt(part[1]);\n\n          switch (part[2]) {\n            case 'd':\n              date.setUTCDate(date.getUTCDate() + dir);\n              break;\n\n            case 'm':\n              date = Datepicker.prototype.moveMonth.call(Datepicker.prototype, date, dir);\n              break;\n\n            case 'w':\n              date.setUTCDate(date.getUTCDate() + dir * 7);\n              break;\n\n            case 'y':\n              date = Datepicker.prototype.moveYear.call(Datepicker.prototype, date, dir);\n              break;\n          }\n        }\n\n        return UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0);\n      }\n\n      var parts = date && date.match(this.nonpunctuation) || [],\n          date = new Date(),\n          parsed = {},\n          setters_order = ['yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\n          setters_map = {\n        yyyy: function (d, v) {\n          return d.setUTCFullYear(v);\n        },\n        yy: function (d, v) {\n          return d.setUTCFullYear(2000 + v);\n        },\n        m: function (d, v) {\n          v -= 1;\n\n          while (v < 0) v += 12;\n\n          v %= 12;\n          d.setUTCMonth(v);\n\n          while (d.getUTCMonth() != v) d.setUTCDate(d.getUTCDate() - 1);\n\n          return d;\n        },\n        d: function (d, v) {\n          return d.setUTCDate(v);\n        }\n      },\n          val,\n          filtered,\n          part;\n      setters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n      setters_map['dd'] = setters_map['d'];\n      date = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n      var fparts = format.parts.slice(); // Remove noop parts\n\n      if (parts.length != fparts.length) {\n        fparts = $(fparts).filter(function (i, p) {\n          return $.inArray(p, setters_order) !== -1;\n        }).toArray();\n      } // Process remainder\n\n\n      if (parts.length == fparts.length) {\n        for (var i = 0, cnt = fparts.length; i < cnt; i++) {\n          val = parseInt(parts[i], 10);\n          part = fparts[i];\n\n          if (isNaN(val)) {\n            switch (part) {\n              case 'MM':\n                filtered = $(dates[language].months).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                      p = parts[i].slice(0, m.length);\n                  return m == p;\n                });\n                val = $.inArray(filtered[0], dates[language].months) + 1;\n                break;\n\n              case 'M':\n                filtered = $(dates[language].monthsShort).filter(function () {\n                  var m = this.slice(0, parts[i].length),\n                      p = parts[i].slice(0, m.length);\n                  return m == p;\n                });\n                val = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n                break;\n            }\n          }\n\n          parsed[part] = val;\n        }\n\n        for (var i = 0, s; i < setters_order.length; i++) {\n          s = setters_order[i];\n          if (s in parsed && !isNaN(parsed[s])) setters_map[s](date, parsed[s]);\n        }\n      }\n\n      return date;\n    },\n    formatDate: function (date, format, language) {\n      var val = {\n        d: date.getUTCDate(),\n        D: dates[language].daysShort[date.getUTCDay()],\n        DD: dates[language].days[date.getUTCDay()],\n        m: date.getUTCMonth() + 1,\n        M: dates[language].monthsShort[date.getUTCMonth()],\n        MM: dates[language].months[date.getUTCMonth()],\n        yy: date.getUTCFullYear().toString().substring(2),\n        yyyy: date.getUTCFullYear()\n      };\n      val.dd = (val.d < 10 ? '0' : '') + val.d;\n      val.mm = (val.m < 10 ? '0' : '') + val.m;\n      var date = [],\n          seps = $.extend([], format.separators);\n\n      for (var i = 0, cnt = format.parts.length; i < cnt; i++) {\n        if (seps.length) date.push(seps.shift());\n        date.push(val[format.parts[i]]);\n      }\n\n      return date.join('');\n    },\n    headTemplate: '<thead>' + '<tr>' + '<th class=\"prev\"><i class=\"icon-arrow-left\"/></th>' + '<th colspan=\"5\" class=\"switch\"></th>' + '<th class=\"next\"><i class=\"icon-arrow-right\"/></th>' + '</tr>' + '</thead>',\n    contTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n    footTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n  };\n  DPGlobal.template = '<div class=\"datepicker\">' + '<div class=\"datepicker-days\">' + '<table class=\" table-condensed\">' + DPGlobal.headTemplate + '<tbody></tbody>' + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-months\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '<div class=\"datepicker-years\">' + '<table class=\"table-condensed\">' + DPGlobal.headTemplate + DPGlobal.contTemplate + DPGlobal.footTemplate + '</table>' + '</div>' + '</div>';\n  $.fn.datepicker.DPGlobal = DPGlobal;\n}(window.jQuery);","map":{"version":3,"sources":["/home/shoshin/code/web-client/src/js/bootstrap-datepicker.js"],"names":["$","UTCDate","Date","UTC","apply","arguments","UTCToday","today","getUTCFullYear","getUTCMonth","getUTCDate","Datepicker","element","options","that","language","data","dates","isRTL","rtl","format","DPGlobal","parseFormat","isInline","isInput","is","component","find","hasInput","length","_attachEvents","forceParse","picker","template","appendTo","on","click","proxy","mousedown","addClass","toggleClass","document","e","target","closest","hide","autoclose","keyboardNavigation","viewMode","startViewMode","startView","todayBtn","todayHighlight","weekStart","weekEnd","startDate","Infinity","endDate","daysOfWeekDisabled","setStartDate","setEndDate","setDaysOfWeekDisabled","fillDow","fillMonths","update","showMode","show","prototype","constructor","_events","_detachEvents","focus","keyup","keydown","i","el","ev","off","height","outerHeight","place","window","stopPropagation","preventDefault","trigger","type","date","val","setValue","remove","datepicker","getDate","d","getTime","getTimezoneOffset","setDate","setUTCDate","formatted","getFormattedDate","undefined","formatDate","parseDate","updateNavArrows","isArray","split","map","parseInt","zIndex","parents","filter","css","first","offset","top","left","fromArgs","oldViewDate","viewDate","fill","dowCnt","html","daysMin","append","monthsShort","year","month","startYear","startMonth","endYear","endMonth","currentDate","valueOf","text","months","toggle","prevMonth","day","getDaysInMonth","getUTCDay","nextMonth","clsName","push","getFullYear","getMonth","inArray","empty","join","currentYear","end","removeClass","eq","slice","yearCont","visibility","nodeName","toLowerCase","className","dir","modes","navStep","moveMonth","moveYear","which","_setDate","parent","index","setUTCMonth","setUTCFullYear","change","new_date","mag","Math","abs","new_month","test","dateWithinRange","keyCode","dateChanged","newDate","newViewDate","ctrlKey","shiftKey","max","min","fn","option","args","Array","shift","each","$this","extend","defaults","Constructor","en","days","daysShort","navFnc","isLeapYear","validParts","nonpunctuation","separators","replace","parts","match","Error","part_re","part","exec","call","parsed","setters_order","setters_map","yyyy","v","yy","m","filtered","fparts","p","toArray","cnt","isNaN","s","D","DD","M","MM","toString","substring","dd","mm","seps","headTemplate","contTemplate","footTemplate","jQuery"],"mappings":"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","sourcesContent":["/* =========================================================\n * bootstrap-datepicker.js\n * http://www.eyecon.ro/bootstrap-datepicker\n * =========================================================\n * Copyright 2012 Stefan Petre\n * Improvements by Andrew Rowls\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n\n!function( $ ) {\n\n\tfunction UTCDate(){\n\t\treturn new Date(Date.UTC.apply(Date, arguments));\n\t}\n\tfunction UTCToday(){\n\t\tvar today = new Date();\n\t\treturn UTCDate(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate());\n\t}\n\n\t// Picker object\n\n\tvar Datepicker = function(element, options) {\n\t\tvar that = this;\n\n\t\tthis.element = $(element);\n\t\tthis.language = options.language||this.element.data('date-language')||\"en\";\n\t\tthis.language = this.language in dates ? this.language : \"en\";\n\t\tthis.isRTL = dates[this.language].rtl||false;\n\t\tthis.format = DPGlobal.parseFormat(options.format||this.element.data('date-format')||'mm/dd/yyyy');\n\t\tthis.isInline = false;\n\t\tthis.isInput = this.element.is('input');\n\t\tthis.component = this.element.is('.date') ? this.element.find('.add-on') : false;\n\t\tthis.hasInput = this.component && this.element.find('input').length;\n\t\tif(this.component && this.component.length === 0)\n\t\t\tthis.component = false;\n\n\t\tthis._attachEvents();\n\n\t\tthis.forceParse = true;\n\t\tif ('forceParse' in options) {\n\t\t\tthis.forceParse = options.forceParse;\n\t\t} else if ('dateForceParse' in this.element.data()) {\n\t\t\tthis.forceParse = this.element.data('date-force-parse');\n\t\t}\n\t\t \n\n\t\tthis.picker = $(DPGlobal.template)\n\t\t\t\t\t\t\t.appendTo(this.isInline ? this.element : 'body')\n\t\t\t\t\t\t\t.on({\n\t\t\t\t\t\t\t\tclick: $.proxy(this.click, this),\n\t\t\t\t\t\t\t\tmousedown: $.proxy(this.mousedown, this)\n\t\t\t\t\t\t\t});\n\n\t\tif(this.isInline) {\n\t\t\tthis.picker.addClass('datepicker-inline');\n\t\t} else {\n\t\t\tthis.picker.addClass('datepicker-dropdown dropdown-menu');\n\t\t}\n\t\tif (this.isRTL){\n\t\t\tthis.picker.addClass('datepicker-rtl');\n\t\t\tthis.picker.find('.prev i, .next i')\n\t\t\t\t\t\t.toggleClass('icon-arrow-left icon-arrow-right');\n\t\t}\n\t\t$(document).on('mousedown', function (e) {\n\t\t\t// Clicked outside the datepicker, hide it\n\t\t\tif ($(e.target).closest('.datepicker').length === 0) {\n\t\t\t\tthat.hide();\n\t\t\t}\n\t\t});\n\n\t\tthis.autoclose = false;\n\t\tif ('autoclose' in options) {\n\t\t\tthis.autoclose = options.autoclose;\n\t\t} else if ('dateAutoclose' in this.element.data()) {\n\t\t\tthis.autoclose = this.element.data('date-autoclose');\n\t\t}\n\n\t\tthis.keyboardNavigation = true;\n\t\tif ('keyboardNavigation' in options) {\n\t\t\tthis.keyboardNavigation = options.keyboardNavigation;\n\t\t} else if ('dateKeyboardNavigation' in this.element.data()) {\n\t\t\tthis.keyboardNavigation = this.element.data('date-keyboard-navigation');\n\t\t}\n\n\t\tthis.viewMode = this.startViewMode = 0;\n\t\tswitch(options.startView || this.element.data('date-start-view')){\n\t\t\tcase 2:\n\t\t\tcase 'decade':\n\t\t\t\tthis.viewMode = this.startViewMode = 2;\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\tcase 'year':\n\t\t\t\tthis.viewMode = this.startViewMode = 1;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.todayBtn = (options.todayBtn||this.element.data('date-today-btn')||false);\n\t\tthis.todayHighlight = (options.todayHighlight||this.element.data('date-today-highlight')||false);\n\n\t\tthis.weekStart = ((options.weekStart||this.element.data('date-weekstart')||dates[this.language].weekStart||0) % 7);\n\t\tthis.weekEnd = ((this.weekStart + 6) % 7);\n\t\tthis.startDate = -Infinity;\n\t\tthis.endDate = Infinity;\n\t\tthis.daysOfWeekDisabled = [];\n\t\tthis.setStartDate(options.startDate||this.element.data('date-startdate'));\n\t\tthis.setEndDate(options.endDate||this.element.data('date-enddate'));\n\t\tthis.setDaysOfWeekDisabled(options.daysOfWeekDisabled||this.element.data('date-days-of-week-disabled'));\n\t\tthis.fillDow();\n\t\tthis.fillMonths();\n\t\tthis.update();\n\t\tthis.showMode();\n\n\t\tif(this.isInline) {\n\t\t\tthis.show();\n\t\t}\n\t};\n\n\tDatepicker.prototype = {\n\t\tconstructor: Datepicker,\n\n\t\t_events: [],\n\t\t_attachEvents: function(){\n\t\t\tthis._detachEvents();\n\t\t\tif (this.isInput) { // single input\n\t\t\t\tthis._events = [\n\t\t\t\t\t[this.element, {\n\t\t\t\t\t\tfocus: $.proxy(this.show, this),\n\t\t\t\t\t\tkeyup: $.proxy(this.update, this),\n\t\t\t\t\t\tkeydown: $.proxy(this.keydown, this)\n\t\t\t\t\t}]\n\t\t\t\t];\n\t\t\t}\n\t\t\telse if (this.component && this.hasInput){ // component: input + button\n\t\t\t\tthis._events = [\n\t\t\t\t\t// For components that are not readonly, allow keyboard nav\n\t\t\t\t\t[this.element.find('input'), {\n\t\t\t\t\t\tfocus: $.proxy(this.show, this),\n\t\t\t\t\t\tkeyup: $.proxy(this.update, this),\n\t\t\t\t\t\tkeydown: $.proxy(this.keydown, this)\n\t\t\t\t\t}],\n\t\t\t\t\t[this.component, {\n\t\t\t\t\t\tclick: $.proxy(this.show, this)\n\t\t\t\t\t}]\n\t\t\t\t];\n\t\t\t}\n\t\t\t\t\t\telse if (this.element.is('div')) {  // inline datepicker\n\t\t\t\t\t\t\tthis.isInline = true;\n\t\t\t\t\t\t}\n\t\t\telse {\n\t\t\t\tthis._events = [\n\t\t\t\t\t[this.element, {\n\t\t\t\t\t\tclick: $.proxy(this.show, this)\n\t\t\t\t\t}]\n\t\t\t\t];\n\t\t\t}\n\t\t\tfor (var i=0, el, ev; i<this._events.length; i++){\n\t\t\t\tel = this._events[i][0];\n\t\t\t\tev = this._events[i][1];\n\t\t\t\tel.on(ev);\n\t\t\t}\n\t\t},\n\t\t_detachEvents: function(){\n\t\t\tfor (var i=0, el, ev; i<this._events.length; i++){\n\t\t\t\tel = this._events[i][0];\n\t\t\t\tev = this._events[i][1];\n\t\t\t\tel.off(ev);\n\t\t\t}\n\t\t\tthis._events = [];\n\t\t},\n\n\t\tshow: function(e) {\n\t\t\tthis.picker.show();\n\t\t\tthis.height = this.component ? this.component.outerHeight() : this.element.outerHeight();\n\t\t\tthis.update();\n\t\t\tthis.place();\n\t\t\t$(window).on('resize', $.proxy(this.place, this));\n\t\t\tif (e ) {\n\t\t\t\te.stopPropagation();\n\t\t\t\te.preventDefault();\n\t\t\t}\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'show',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t},\n\n\t\thide: function(e){\n\t\t\tif(this.isInline) return;\n\t\t\tthis.picker.hide();\n\t\t\t$(window).off('resize', this.place);\n\t\t\tthis.viewMode = this.startViewMode;\n\t\t\tthis.showMode();\n\t\t\tif (!this.isInput) {\n\t\t\t\t$(document).off('mousedown', this.hide);\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tthis.forceParse &&\n\t\t\t\t(\n\t\t\t\t\tthis.isInput && this.element.val() ||\n\t\t\t\t\tthis.hasInput && this.element.find('input').val()\n\t\t\t\t)\n\t\t\t)\n\t\t\t\tthis.setValue();\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'hide',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t},\n\n\t\tremove: function() {\n\t\t\tthis._detachEvents();\n\t\t\tthis.picker.remove();\n\t\t\tdelete this.element.data().datepicker;\n\t\t},\n\n\t\tgetDate: function() {\n\t\t\tvar d = this.getUTCDate();\n\t\t\treturn new Date(d.getTime() + (d.getTimezoneOffset()*60000));\n\t\t},\n\n\t\tgetUTCDate: function() {\n\t\t\treturn this.date;\n\t\t},\n\n\t\tsetDate: function(d) {\n\t\t\tthis.setUTCDate(new Date(d.getTime() - (d.getTimezoneOffset()*60000)));\n\t\t},\n\n\t\tsetUTCDate: function(d) {\n\t\t\tthis.date = d;\n\t\t\tthis.setValue();\n\t\t},\n\n\t\tsetValue: function() {\n\t\t\tvar formatted = this.getFormattedDate();\n\t\t\tif (!this.isInput) {\n\t\t\t\tif (this.component){\n\t\t\t\t\tthis.element.find('input').val(formatted);\n\t\t\t\t}\n\t\t\t\tthis.element.data('date', formatted);\n\t\t\t} else {\n\t\t\t\tthis.element.val(formatted);\n\t\t\t}\n\t\t},\n\n\t\tgetFormattedDate: function(format) {\n\t\t\tif (format === undefined)\n\t\t\t\tformat = this.format;\n\t\t\treturn DPGlobal.formatDate(this.date, format, this.language);\n\t\t},\n\n\t\tsetStartDate: function(startDate){\n\t\t\tthis.startDate = startDate||-Infinity;\n\t\t\tif (this.startDate !== -Infinity) {\n\t\t\t\tthis.startDate = DPGlobal.parseDate(this.startDate, this.format, this.language);\n\t\t\t}\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t},\n\n\t\tsetEndDate: function(endDate){\n\t\t\tthis.endDate = endDate||Infinity;\n\t\t\tif (this.endDate !== Infinity) {\n\t\t\t\tthis.endDate = DPGlobal.parseDate(this.endDate, this.format, this.language);\n\t\t\t}\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t},\n\n\t\tsetDaysOfWeekDisabled: function(daysOfWeekDisabled){\n\t\t\tthis.daysOfWeekDisabled = daysOfWeekDisabled||[];\n\t\t\tif (!$.isArray(this.daysOfWeekDisabled)) {\n\t\t\t\tthis.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\\s*/);\n\t\t\t}\n\t\t\tthis.daysOfWeekDisabled = $.map(this.daysOfWeekDisabled, function (d) {\n\t\t\t\treturn parseInt(d, 10);\n\t\t\t});\n\t\t\tthis.update();\n\t\t\tthis.updateNavArrows();\n\t\t},\n\n\t\tplace: function(){\n\t\t\t\t\t\tif(this.isInline) return;\n\t\t\tvar zIndex = parseInt(this.element.parents().filter(function() {\n\t\t\t\t\t\t\treturn $(this).css('z-index') != 'auto';\n\t\t\t\t\t\t}).first().css('z-index'))+10;\n\t\t\tvar offset = this.component ? this.component.offset() : this.element.offset();\n\t\t\tvar height = this.component ? this.component.outerHeight(true) : this.element.outerHeight(true);\n\t\t\tthis.picker.css({\n\t\t\t\ttop: offset.top + height,\n\t\t\t\tleft: offset.left,\n\t\t\t\tzIndex: zIndex\n\t\t\t});\n\t\t},\n\n\t\tupdate: function(){\n\t\t\tvar date, fromArgs = false;\n\t\t\tif(arguments && arguments.length && (typeof arguments[0] === 'string' || arguments[0] instanceof Date)) {\n\t\t\t\tdate = arguments[0];\n\t\t\t\tfromArgs = true;\n\t\t\t} else {\n\t\t\t\tdate = this.isInput ? this.element.val() : this.element.data('date') || this.element.find('input').val();\n\t\t\t}\n\n\t\t\tthis.date = DPGlobal.parseDate(date, this.format, this.language);\n\n\t\t\tif(fromArgs) this.setValue();\n\n\t\t\tvar oldViewDate = this.viewDate;\n\t\t\tif (this.date < this.startDate) {\n\t\t\t\tthis.viewDate = new Date(this.startDate);\n\t\t\t} else if (this.date > this.endDate) {\n\t\t\t\tthis.viewDate = new Date(this.endDate);\n\t\t\t} else {\n\t\t\t\tthis.viewDate = new Date(this.date);\n\t\t\t}\n\n\t\t\tif (oldViewDate && oldViewDate.getTime() != this.viewDate.getTime()){\n\t\t\t\tthis.element.trigger({\n\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\tdate: this.viewDate\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.fill();\n\t\t},\n\n\t\tfillDow: function(){\n\t\t\tvar dowCnt = this.weekStart,\n\t\t\thtml = '<tr>';\n\t\t\twhile (dowCnt < this.weekStart + 7) {\n\t\t\t\thtml += '<th class=\"dow\">'+dates[this.language].daysMin[(dowCnt++)%7]+'</th>';\n\t\t\t}\n\t\t\thtml += '</tr>';\n\t\t\tthis.picker.find('.datepicker-days thead').append(html);\n\t\t},\n\n\t\tfillMonths: function(){\n\t\t\tvar html = '',\n\t\t\ti = 0;\n\t\t\twhile (i < 12) {\n\t\t\t\thtml += '<span class=\"month\">'+dates[this.language].monthsShort[i++]+'</span>';\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-months td').html(html);\n\t\t},\n\n\t\tfill: function() {\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getUTCFullYear(),\n\t\t\t\tmonth = d.getUTCMonth(),\n\t\t\t\tstartYear = this.startDate !== -Infinity ? this.startDate.getUTCFullYear() : -Infinity,\n\t\t\t\tstartMonth = this.startDate !== -Infinity ? this.startDate.getUTCMonth() : -Infinity,\n\t\t\t\tendYear = this.endDate !== Infinity ? this.endDate.getUTCFullYear() : Infinity,\n\t\t\t\tendMonth = this.endDate !== Infinity ? this.endDate.getUTCMonth() : Infinity,\n\t\t\t\tcurrentDate = this.date && this.date.valueOf(),\n\t\t\t\ttoday = new Date();\n\t\t\tthis.picker.find('.datepicker-days thead th:eq(1)')\n\t\t\t\t\t\t.text(dates[this.language].months[month]+' '+year);\n\t\t\tthis.picker.find('tfoot th.today')\n\t\t\t\t\t\t.text(dates[this.language].today)\n\t\t\t\t\t\t.toggle(this.todayBtn !== false);\n\t\t\tthis.updateNavArrows();\n\t\t\tthis.fillMonths();\n\t\t\tvar prevMonth = UTCDate(year, month-1, 28,0,0,0,0),\n\t\t\t\tday = DPGlobal.getDaysInMonth(prevMonth.getUTCFullYear(), prevMonth.getUTCMonth());\n\t\t\tprevMonth.setUTCDate(day);\n\t\t\tprevMonth.setUTCDate(day - (prevMonth.getUTCDay() - this.weekStart + 7)%7);\n\t\t\tvar nextMonth = new Date(prevMonth);\n\t\t\tnextMonth.setUTCDate(nextMonth.getUTCDate() + 42);\n\t\t\tnextMonth = nextMonth.valueOf();\n\t\t\tvar html = [];\n\t\t\tvar clsName;\n\t\t\twhile(prevMonth.valueOf() < nextMonth) {\n\t\t\t\tif (prevMonth.getUTCDay() == this.weekStart) {\n\t\t\t\t\thtml.push('<tr>');\n\t\t\t\t}\n\t\t\t\tclsName = '';\n\t\t\t\tif (prevMonth.getUTCFullYear() < year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() < month)) {\n\t\t\t\t\tclsName += ' old';\n\t\t\t\t} else if (prevMonth.getUTCFullYear() > year || (prevMonth.getUTCFullYear() == year && prevMonth.getUTCMonth() > month)) {\n\t\t\t\t\tclsName += ' new';\n\t\t\t\t}\n\t\t\t\t// Compare internal UTC date with local today, not UTC today\n\t\t\t\tif (this.todayHighlight &&\n\t\t\t\t\tprevMonth.getUTCFullYear() == today.getFullYear() &&\n\t\t\t\t\tprevMonth.getUTCMonth() == today.getMonth() &&\n\t\t\t\t\tprevMonth.getUTCDate() == today.getDate()) {\n\t\t\t\t\tclsName += ' today';\n\t\t\t\t}\n\t\t\t\tif (currentDate && prevMonth.valueOf() == currentDate) {\n\t\t\t\t\tclsName += ' active';\n\t\t\t\t}\n\t\t\t\tif (prevMonth.valueOf() < this.startDate || prevMonth.valueOf() > this.endDate ||\n\t\t\t\t\t$.inArray(prevMonth.getUTCDay(), this.daysOfWeekDisabled) !== -1) {\n\t\t\t\t\tclsName += ' disabled';\n\t\t\t\t}\n\t\t\t\thtml.push('<td class=\"day'+clsName+'\">'+prevMonth.getUTCDate() + '</td>');\n\t\t\t\tif (prevMonth.getUTCDay() == this.weekEnd) {\n\t\t\t\t\thtml.push('</tr>');\n\t\t\t\t}\n\t\t\t\tprevMonth.setUTCDate(prevMonth.getUTCDate()+1);\n\t\t\t}\n\t\t\tthis.picker.find('.datepicker-days tbody').empty().append(html.join(''));\n\t\t\tvar currentYear = this.date && this.date.getUTCFullYear();\n\n\t\t\tvar months = this.picker.find('.datepicker-months')\n\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t.text(year)\n\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t.find('span').removeClass('active');\n\t\t\tif (currentYear && currentYear == year) {\n\t\t\t\tmonths.eq(this.date.getUTCMonth()).addClass('active');\n\t\t\t}\n\t\t\tif (year < startYear || year > endYear) {\n\t\t\t\tmonths.addClass('disabled');\n\t\t\t}\n\t\t\tif (year == startYear) {\n\t\t\t\tmonths.slice(0, startMonth).addClass('disabled');\n\t\t\t}\n\t\t\tif (year == endYear) {\n\t\t\t\tmonths.slice(endMonth+1).addClass('disabled');\n\t\t\t}\n\n\t\t\thtml = '';\n\t\t\tyear = parseInt(year/10, 10) * 10;\n\t\t\tvar yearCont = this.picker.find('.datepicker-years')\n\t\t\t\t\t\t\t\t.find('th:eq(1)')\n\t\t\t\t\t\t\t\t\t.text(year + '-' + (year + 9))\n\t\t\t\t\t\t\t\t\t.end()\n\t\t\t\t\t\t\t\t.find('td');\n\t\t\tyear -= 1;\n\t\t\tfor (var i = -1; i < 11; i++) {\n\t\t\t\thtml += '<span class=\"year'+(i == -1 || i == 10 ? ' old' : '')+(currentYear == year ? ' active' : '')+(year < startYear || year > endYear ? ' disabled' : '')+'\">'+year+'</span>';\n\t\t\t\tyear += 1;\n\t\t\t}\n\t\t\tyearCont.html(html);\n\t\t},\n\n\t\tupdateNavArrows: function() {\n\t\t\tvar d = new Date(this.viewDate),\n\t\t\t\tyear = d.getUTCFullYear(),\n\t\t\t\tmonth = d.getUTCMonth();\n\t\t\tswitch (this.viewMode) {\n\t\t\t\tcase 0:\n\t\t\t\t\tif (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear() && month <= this.startDate.getUTCMonth()) {\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'hidden'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear() && month >= this.endDate.getUTCMonth()) {\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'hidden'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 1:\n\t\t\t\tcase 2:\n\t\t\t\t\tif (this.startDate !== -Infinity && year <= this.startDate.getUTCFullYear()) {\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'hidden'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.picker.find('.prev').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tif (this.endDate !== Infinity && year >= this.endDate.getUTCFullYear()) {\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'hidden'});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.picker.find('.next').css({visibility: 'visible'});\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\tclick: function(e) {\n\t\t\te.stopPropagation();\n\t\t\te.preventDefault();\n\t\t\tvar target = $(e.target).closest('span, td, th');\n\t\t\tif (target.length == 1) {\n\t\t\t\tswitch(target[0].nodeName.toLowerCase()) {\n\t\t\t\t\tcase 'th':\n\t\t\t\t\t\tswitch(target[0].className) {\n\t\t\t\t\t\t\tcase 'switch':\n\t\t\t\t\t\t\t\tthis.showMode(1);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'prev':\n\t\t\t\t\t\t\tcase 'next':\n\t\t\t\t\t\t\t\tvar dir = DPGlobal.modes[this.viewMode].navStep * (target[0].className == 'prev' ? -1 : 1);\n\t\t\t\t\t\t\t\tswitch(this.viewMode){\n\t\t\t\t\t\t\t\t\tcase 0:\n\t\t\t\t\t\t\t\t\t\tthis.viewDate = this.moveMonth(this.viewDate, dir);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\tcase 1:\n\t\t\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t\t\tthis.viewDate = this.moveYear(this.viewDate, dir);\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'today':\n\t\t\t\t\t\t\t\tvar date = new Date();\n\t\t\t\t\t\t\t\tdate = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n\n\t\t\t\t\t\t\t\tthis.showMode(-2);\n\t\t\t\t\t\t\t\tvar which = this.todayBtn == 'linked' ? null : 'view';\n\t\t\t\t\t\t\t\tthis._setDate(date, which);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'span':\n\t\t\t\t\t\tif (!target.is('.disabled')) {\n\t\t\t\t\t\t\tthis.viewDate.setUTCDate(1);\n\t\t\t\t\t\t\tif (target.is('.month')) {\n\t\t\t\t\t\t\t\tvar month = target.parent().find('span').index(target);\n\t\t\t\t\t\t\t\tthis.viewDate.setUTCMonth(month);\n\t\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\t\ttype: 'changeMonth',\n\t\t\t\t\t\t\t\t\tdate: this.viewDate\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvar year = parseInt(target.text(), 10)||0;\n\t\t\t\t\t\t\t\tthis.viewDate.setUTCFullYear(year);\n\t\t\t\t\t\t\t\tthis.element.trigger({\n\t\t\t\t\t\t\t\t\ttype: 'changeYear',\n\t\t\t\t\t\t\t\t\tdate: this.viewDate\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.showMode(-1);\n\t\t\t\t\t\t\tthis.fill();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'td':\n\t\t\t\t\t\tif (target.is('.day') && !target.is('.disabled')){\n\t\t\t\t\t\t\tvar day = parseInt(target.text(), 10)||1;\n\t\t\t\t\t\t\tvar year = this.viewDate.getUTCFullYear(),\n\t\t\t\t\t\t\t\tmonth = this.viewDate.getUTCMonth();\n\t\t\t\t\t\t\tif (target.is('.old')) {\n\t\t\t\t\t\t\t\tif (month === 0) {\n\t\t\t\t\t\t\t\t\tmonth = 11;\n\t\t\t\t\t\t\t\t\tyear -= 1;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmonth -= 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (target.is('.new')) {\n\t\t\t\t\t\t\t\tif (month == 11) {\n\t\t\t\t\t\t\t\t\tmonth = 0;\n\t\t\t\t\t\t\t\t\tyear += 1;\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tmonth += 1;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis._setDate(UTCDate(year, month, day,0,0,0,0));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_setDate: function(date, which){\n\t\t\tif (!which || which == 'date')\n\t\t\t\tthis.date = date;\n\t\t\tif (!which || which  == 'view')\n\t\t\t\tthis.viewDate = date;\n\t\t\tthis.fill();\n\t\t\tthis.setValue();\n\t\t\tthis.element.trigger({\n\t\t\t\ttype: 'changeDate',\n\t\t\t\tdate: this.date\n\t\t\t});\n\t\t\tvar element;\n\t\t\tif (this.isInput) {\n\t\t\t\telement = this.element;\n\t\t\t} else if (this.component){\n\t\t\t\telement = this.element.find('input');\n\t\t\t}\n\t\t\tif (element) {\n\t\t\t\telement.change();\n\t\t\t\tif (this.autoclose && (!which || which == 'date')) {\n\t\t\t\t\tthis.hide();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tmoveMonth: function(date, dir){\n\t\t\tif (!dir) return date;\n\t\t\tvar new_date = new Date(date.valueOf()),\n\t\t\t\tday = new_date.getUTCDate(),\n\t\t\t\tmonth = new_date.getUTCMonth(),\n\t\t\t\tmag = Math.abs(dir),\n\t\t\t\tnew_month, test;\n\t\t\tdir = dir > 0 ? 1 : -1;\n\t\t\tif (mag == 1){\n\t\t\t\ttest = dir == -1\n\t\t\t\t\t// If going back one month, make sure month is not current month\n\t\t\t\t\t// (eg, Mar 31 -> Feb 31 == Feb 28, not Mar 02)\n\t\t\t\t\t? function(){ return new_date.getUTCMonth() == month; }\n\t\t\t\t\t// If going forward one month, make sure month is as expected\n\t\t\t\t\t// (eg, Jan 31 -> Feb 31 == Feb 28, not Mar 02)\n\t\t\t\t\t: function(){ return new_date.getUTCMonth() != new_month; };\n\t\t\t\tnew_month = month + dir;\n\t\t\t\tnew_date.setUTCMonth(new_month);\n\t\t\t\t// Dec -> Jan (12) or Jan -> Dec (-1) -- limit expected date to 0-11\n\t\t\t\tif (new_month < 0 || new_month > 11)\n\t\t\t\t\tnew_month = (new_month + 12) % 12;\n\t\t\t} else {\n\t\t\t\t// For magnitudes >1, move one month at a time...\n\t\t\t\tfor (var i=0; i<mag; i++)\n\t\t\t\t\t// ...which might decrease the day (eg, Jan 31 to Feb 28, etc)...\n\t\t\t\t\tnew_date = this.moveMonth(new_date, dir);\n\t\t\t\t// ...then reset the day, keeping it in the new month\n\t\t\t\tnew_month = new_date.getUTCMonth();\n\t\t\t\tnew_date.setUTCDate(day);\n\t\t\t\ttest = function(){ return new_month != new_date.getUTCMonth(); };\n\t\t\t}\n\t\t\t// Common date-resetting loop -- if date is beyond end of month, make it\n\t\t\t// end of month\n\t\t\twhile (test()){\n\t\t\t\tnew_date.setUTCDate(--day);\n\t\t\t\tnew_date.setUTCMonth(new_month);\n\t\t\t}\n\t\t\treturn new_date;\n\t\t},\n\n\t\tmoveYear: function(date, dir){\n\t\t\treturn this.moveMonth(date, dir*12);\n\t\t},\n\n\t\tdateWithinRange: function(date){\n\t\t\treturn date >= this.startDate && date <= this.endDate;\n\t\t},\n\n\t\tkeydown: function(e){\n\t\t\tif (this.picker.is(':not(:visible)')){\n\t\t\t\tif (e.keyCode == 27) // allow escape to hide and re-show picker\n\t\t\t\t\tthis.show();\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar dateChanged = false,\n\t\t\t\tdir, day, month,\n\t\t\t\tnewDate, newViewDate;\n\t\t\tswitch(e.keyCode){\n\t\t\t\tcase 27: // escape\n\t\t\t\t\tthis.hide();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 37: // left\n\t\t\t\tcase 39: // right\n\t\t\t\t\tif (!this.keyboardNavigation) break;\n\t\t\t\t\tdir = e.keyCode == 37 ? -1 : 1;\n\t\t\t\t\tif (e.ctrlKey){\n\t\t\t\t\t\tnewDate = this.moveYear(this.date, dir);\n\t\t\t\t\t\tnewViewDate = this.moveYear(this.viewDate, dir);\n\t\t\t\t\t} else if (e.shiftKey){\n\t\t\t\t\t\tnewDate = this.moveMonth(this.date, dir);\n\t\t\t\t\t\tnewViewDate = this.moveMonth(this.viewDate, dir);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewDate = new Date(this.date);\n\t\t\t\t\t\tnewDate.setUTCDate(this.date.getUTCDate() + dir);\n\t\t\t\t\t\tnewViewDate = new Date(this.viewDate);\n\t\t\t\t\t\tnewViewDate.setUTCDate(this.viewDate.getUTCDate() + dir);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.dateWithinRange(newDate)){\n\t\t\t\t\t\tthis.date = newDate;\n\t\t\t\t\t\tthis.viewDate = newViewDate;\n\t\t\t\t\t\tthis.setValue();\n\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tdateChanged = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 38: // up\n\t\t\t\tcase 40: // down\n\t\t\t\t\tif (!this.keyboardNavigation) break;\n\t\t\t\t\tdir = e.keyCode == 38 ? -1 : 1;\n\t\t\t\t\tif (e.ctrlKey){\n\t\t\t\t\t\tnewDate = this.moveYear(this.date, dir);\n\t\t\t\t\t\tnewViewDate = this.moveYear(this.viewDate, dir);\n\t\t\t\t\t} else if (e.shiftKey){\n\t\t\t\t\t\tnewDate = this.moveMonth(this.date, dir);\n\t\t\t\t\t\tnewViewDate = this.moveMonth(this.viewDate, dir);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tnewDate = new Date(this.date);\n\t\t\t\t\t\tnewDate.setUTCDate(this.date.getUTCDate() + dir * 7);\n\t\t\t\t\t\tnewViewDate = new Date(this.viewDate);\n\t\t\t\t\t\tnewViewDate.setUTCDate(this.viewDate.getUTCDate() + dir * 7);\n\t\t\t\t\t}\n\t\t\t\t\tif (this.dateWithinRange(newDate)){\n\t\t\t\t\t\tthis.date = newDate;\n\t\t\t\t\t\tthis.viewDate = newViewDate;\n\t\t\t\t\t\tthis.setValue();\n\t\t\t\t\t\tthis.update();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\tdateChanged = true;\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 13: // enter\n\t\t\t\t\tthis.hide();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tbreak;\n\t\t\t\tcase 9: // tab\n\t\t\t\t\tthis.hide();\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (dateChanged){\n\t\t\t\tthis.element.trigger({\n\t\t\t\t\ttype: 'changeDate',\n\t\t\t\t\tdate: this.date\n\t\t\t\t});\n\t\t\t\tvar element;\n\t\t\t\tif (this.isInput) {\n\t\t\t\t\telement = this.element;\n\t\t\t\t} else if (this.component){\n\t\t\t\t\telement = this.element.find('input');\n\t\t\t\t}\n\t\t\t\tif (element) {\n\t\t\t\t\telement.change();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tshowMode: function(dir) {\n\t\t\tif (dir) {\n\t\t\t\tthis.viewMode = Math.max(0, Math.min(2, this.viewMode + dir));\n\t\t\t}\n\t\t\t/*\n\t\t\t\tvitalets: fixing bug of very special conditions:\n\t\t\t\tjquery 1.7.1 + webkit + show inline datepicker in bootstrap popover.\n\t\t\t\tMethod show() does not set display css correctly and datepicker is not shown.\n\t\t\t\tChanged to .css('display', 'block') solve the problem.\n\t\t\t\tSee https://github.com/vitalets/x-editable/issues/37\n\n\t\t\t\tIn jquery 1.7.2+ everything works fine.\n\t\t\t*/\n\t\t\t//this.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).show();\n\t\t\tthis.picker.find('>div').hide().filter('.datepicker-'+DPGlobal.modes[this.viewMode].clsName).css('display', 'block');\n\t\t\tthis.updateNavArrows();\n\t\t}\n\t};\n\n\t$.fn.datepicker = function ( option ) {\n\t\tvar args = Array.apply(null, arguments);\n\t\targs.shift();\n\t\treturn this.each(function () {\n\t\t\tvar $this = $(this),\n\t\t\t\tdata = $this.data('datepicker'),\n\t\t\t\toptions = typeof option == 'object' && option;\n\t\t\tif (!data) {\n\t\t\t\t$this.data('datepicker', (data = new Datepicker(this, $.extend({}, $.fn.datepicker.defaults,options))));\n\t\t\t}\n\t\t\tif (typeof option == 'string' && typeof data[option] == 'function') {\n\t\t\t\tdata[option].apply(data, args);\n\t\t\t}\n\t\t});\n\t};\n\n\t$.fn.datepicker.defaults = {\n\t};\n\t$.fn.datepicker.Constructor = Datepicker;\n\tvar dates = $.fn.datepicker.dates = {\n\t\ten: {\n\t\t\tdays: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\", \"Sunday\"],\n\t\t\tdaysShort: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"],\n\t\t\tdaysMin: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"],\n\t\t\tmonths: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n\t\t\tmonthsShort: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n\t\t\ttoday: \"Today\"\n\t\t}\n\t};\n\n\tvar DPGlobal = {\n\t\tmodes: [\n\t\t\t{\n\t\t\t\tclsName: 'days',\n\t\t\t\tnavFnc: 'Month',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'months',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 1\n\t\t\t},\n\t\t\t{\n\t\t\t\tclsName: 'years',\n\t\t\t\tnavFnc: 'FullYear',\n\t\t\t\tnavStep: 10\n\t\t}],\n\t\tisLeapYear: function (year) {\n\t\t\treturn (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0));\n\t\t},\n\t\tgetDaysInMonth: function (year, month) {\n\t\t\treturn [31, (DPGlobal.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];\n\t\t},\n\t\tvalidParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g,\n\t\tnonpunctuation: /[^ -\\/:-@\\[\\u3400-\\u9fff-`{-~\\t\\n\\r]+/g,\n\t\tparseFormat: function(format){\n\t\t\t// IE treats \\0 as a string end in inputs (truncating the value),\n\t\t\t// so it's a bad format delimiter, anyway\n\t\t\tvar separators = format.replace(this.validParts, '\\0').split('\\0'),\n\t\t\t\tparts = format.match(this.validParts);\n\t\t\tif (!separators || !separators.length || !parts || parts.length === 0){\n\t\t\t\tthrow new Error(\"Invalid date format.\");\n\t\t\t}\n\t\t\treturn {separators: separators, parts: parts};\n\t\t},\n\t\tparseDate: function(date, format, language) {\n\t\t\tif (date instanceof Date) return date;\n\t\t\tif (/^[\\-+]\\d+[dmwy]([\\s,]+[\\-+]\\d+[dmwy])*$/.test(date)) {\n\t\t\t\tvar part_re = /([\\-+]\\d+)([dmwy])/,\n\t\t\t\t\tparts = date.match(/([\\-+]\\d+)([dmwy])/g),\n\t\t\t\t\tpart, dir;\n\t\t\t\tdate = new Date();\n\t\t\t\tfor (var i=0; i<parts.length; i++) {\n\t\t\t\t\tpart = part_re.exec(parts[i]);\n\t\t\t\t\tdir = parseInt(part[1]);\n\t\t\t\t\tswitch(part[2]){\n\t\t\t\t\t\tcase 'd':\n\t\t\t\t\t\t\tdate.setUTCDate(date.getUTCDate() + dir);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'm':\n\t\t\t\t\t\t\tdate = Datepicker.prototype.moveMonth.call(Datepicker.prototype, date, dir);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'w':\n\t\t\t\t\t\t\tdate.setUTCDate(date.getUTCDate() + dir * 7);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\tcase 'y':\n\t\t\t\t\t\t\tdate = Datepicker.prototype.moveYear.call(Datepicker.prototype, date, dir);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn UTCDate(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(), 0, 0, 0);\n\t\t\t}\n\t\t\tvar parts = date && date.match(this.nonpunctuation) || [],\n\t\t\t\tdate = new Date(),\n\t\t\t\tparsed = {},\n\t\t\t\tsetters_order = ['yyyy', 'yy', 'M', 'MM', 'm', 'mm', 'd', 'dd'],\n\t\t\t\tsetters_map = {\n\t\t\t\t\tyyyy: function(d,v){ return d.setUTCFullYear(v); },\n\t\t\t\t\tyy: function(d,v){ return d.setUTCFullYear(2000+v); },\n\t\t\t\t\tm: function(d,v){\n\t\t\t\t\t\tv -= 1;\n\t\t\t\t\t\twhile (v<0) v += 12;\n\t\t\t\t\t\tv %= 12;\n\t\t\t\t\t\td.setUTCMonth(v);\n\t\t\t\t\t\twhile (d.getUTCMonth() != v)\n\t\t\t\t\t\t\td.setUTCDate(d.getUTCDate()-1);\n\t\t\t\t\t\treturn d;\n\t\t\t\t\t},\n\t\t\t\t\td: function(d,v){ return d.setUTCDate(v); }\n\t\t\t\t},\n\t\t\t\tval, filtered, part;\n\t\t\tsetters_map['M'] = setters_map['MM'] = setters_map['mm'] = setters_map['m'];\n\t\t\tsetters_map['dd'] = setters_map['d'];\n\t\t\tdate = UTCDate(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0);\n\t\t\tvar fparts = format.parts.slice();\n\t\t\t// Remove noop parts\n\t\t\tif (parts.length != fparts.length) {\n\t\t\t\tfparts = $(fparts).filter(function(i,p){\n\t\t\t\t\treturn $.inArray(p, setters_order) !== -1;\n\t\t\t\t}).toArray();\n\t\t\t}\n\t\t\t// Process remainder\n\t\t\tif (parts.length == fparts.length) {\n\t\t\t\tfor (var i=0, cnt = fparts.length; i < cnt; i++) {\n\t\t\t\t\tval = parseInt(parts[i], 10);\n\t\t\t\t\tpart = fparts[i];\n\t\t\t\t\tif (isNaN(val)) {\n\t\t\t\t\t\tswitch(part) {\n\t\t\t\t\t\t\tcase 'MM':\n\t\t\t\t\t\t\t\tfiltered = $(dates[language].months).filter(function(){\n\t\t\t\t\t\t\t\t\tvar m = this.slice(0, parts[i].length),\n\t\t\t\t\t\t\t\t\t\tp = parts[i].slice(0, m.length);\n\t\t\t\t\t\t\t\t\treturn m == p;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tval = $.inArray(filtered[0], dates[language].months) + 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\tcase 'M':\n\t\t\t\t\t\t\t\tfiltered = $(dates[language].monthsShort).filter(function(){\n\t\t\t\t\t\t\t\t\tvar m = this.slice(0, parts[i].length),\n\t\t\t\t\t\t\t\t\t\tp = parts[i].slice(0, m.length);\n\t\t\t\t\t\t\t\t\treturn m == p;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tval = $.inArray(filtered[0], dates[language].monthsShort) + 1;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tparsed[part] = val;\n\t\t\t\t}\n\t\t\t\tfor (var i=0, s; i<setters_order.length; i++){\n\t\t\t\t\ts = setters_order[i];\n\t\t\t\t\tif (s in parsed && !isNaN(parsed[s]))\n\t\t\t\t\t\tsetters_map[s](date, parsed[s]);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn date;\n\t\t},\n\t\tformatDate: function(date, format, language){\n\t\t\tvar val = {\n\t\t\t\td: date.getUTCDate(),\n\t\t\t\tD: dates[language].daysShort[date.getUTCDay()],\n\t\t\t\tDD: dates[language].days[date.getUTCDay()],\n\t\t\t\tm: date.getUTCMonth() + 1,\n\t\t\t\tM: dates[language].monthsShort[date.getUTCMonth()],\n\t\t\t\tMM: dates[language].months[date.getUTCMonth()],\n\t\t\t\tyy: date.getUTCFullYear().toString().substring(2),\n\t\t\t\tyyyy: date.getUTCFullYear()\n\t\t\t};\n\t\t\tval.dd = (val.d < 10 ? '0' : '') + val.d;\n\t\t\tval.mm = (val.m < 10 ? '0' : '') + val.m;\n\t\t\tvar date = [],\n\t\t\t\tseps = $.extend([], format.separators);\n\t\t\tfor (var i=0, cnt = format.parts.length; i < cnt; i++) {\n\t\t\t\tif (seps.length)\n\t\t\t\t\tdate.push(seps.shift());\n\t\t\t\tdate.push(val[format.parts[i]]);\n\t\t\t}\n\t\t\treturn date.join('');\n\t\t},\n\t\theadTemplate: '<thead>'+\n\t\t\t\t\t\t\t'<tr>'+\n\t\t\t\t\t\t\t\t'<th class=\"prev\"><i class=\"icon-arrow-left\"/></th>'+\n\t\t\t\t\t\t\t\t'<th colspan=\"5\" class=\"switch\"></th>'+\n\t\t\t\t\t\t\t\t'<th class=\"next\"><i class=\"icon-arrow-right\"/></th>'+\n\t\t\t\t\t\t\t'</tr>'+\n\t\t\t\t\t\t'</thead>',\n\t\tcontTemplate: '<tbody><tr><td colspan=\"7\"></td></tr></tbody>',\n\t\tfootTemplate: '<tfoot><tr><th colspan=\"7\" class=\"today\"></th></tr></tfoot>'\n\t};\n\tDPGlobal.template = '<div class=\"datepicker\">'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-days\">'+\n\t\t\t\t\t\t\t\t'<table class=\" table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\t'<tbody></tbody>'+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-months\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t\t'<div class=\"datepicker-years\">'+\n\t\t\t\t\t\t\t\t'<table class=\"table-condensed\">'+\n\t\t\t\t\t\t\t\t\tDPGlobal.headTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.contTemplate+\n\t\t\t\t\t\t\t\t\tDPGlobal.footTemplate+\n\t\t\t\t\t\t\t\t'</table>'+\n\t\t\t\t\t\t\t'</div>'+\n\t\t\t\t\t\t'</div>';\n\n\t$.fn.datepicker.DPGlobal = DPGlobal;\n\n}( window.jQuery );\n"]},"metadata":{},"sourceType":"module"}